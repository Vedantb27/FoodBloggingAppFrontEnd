{"ast":null,"code":"import React,{useState,useEffect,useContext}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import Admincontext from\"./Admincontext\";import axios from\"axios\";import _ from\"lodash\";import{SaveChangeCard}from\"./SaveChangeCard\";import{FailedSaveCard}from\"./FailedSaveCard\";import{SavedBeforeEditCard}from\"./SavedBeforeEditCard \";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Admincardsedit=()=>{const location=useLocation();const navigate=useNavigate();const{index}=location.state||{index:null};const{cards,setCards}=useContext(Admincontext);const[ItemCards,setItemCards]=useState([]);const[originalItems,setOriginalItems]=useState([]);const[showSaveChangeCard,setShowSaveChangeCard]=useState(false);const[showFailedSaveCard,setShowFailedSaveCard]=useState(false);const[savedBeforeEditCard,setSavedBeforeEditCard]=useState(false);useEffect(()=>{if(index!==null){fetchData();}},[index]);const fetchData=async()=>{try{const response=await fetch(\"https://foodbloggingappbackend.onrender.com/get-json\");const data=await response.json();const filteredData=filterIdFromData(data);const transformedData=Object.keys(filteredData).map(key=>({name:key,imageId:filteredData[key].imageId,items:filteredData[key].items}));setCards(transformedData);setOriginalItems(_.cloneDeep(transformedData[index].items));setItemCards(transformedData[index].items);}catch(error){console.log(\"Error fetching the data\",error);}};const filterIdFromData=data=>{const filteredData={};Object.keys(data).forEach(key=>{if(key!==\"_id\"&&key!==\"__v\"){if(Array.isArray(data[key])){filteredData[key]=data[key].map(item=>filterIdFromData(item));}else if(typeof data[key]===\"object\"){filteredData[key]=filterIdFromData(data[key]);}else{filteredData[key]=data[key];}}});return filteredData;};const handleSaveChange=()=>{const updatedCards=[...cards];// Ensure items is initialized as an array if it is not already\nif(!Array.isArray(updatedCards[index].items)){updatedCards[index].items=[];}// Clear the existing items to replace with the updated ItemCards\nupdatedCards[index].items=[];ItemCards.forEach((itemobj,x)=>{const newItem={cardId:updatedCards[index].items.length+1,title:itemobj.title,imageId:itemobj.imageId,type:itemobj.type,mealDetail:'',ingredients:'',youtubeUrl:''};updatedCards[index].items.push(newItem);});setCards(updatedCards);axios.post(\"https://foodbloggingappbackend.onrender.com/update-json\",updatedCards)// Send updatedCards instead of cards\n.then(response=>{setOriginalItems(_.cloneDeep(ItemCards));setShowSaveChangeCard(true);}).catch(error=>{console.log(\"Error sending data:\",error);setShowFailedSaveCard(true);});};const handleImageChange=async(e,itemIndex)=>{const file=e.target.files[0];if(file){const formData=new FormData();formData.append(\"file\",file);formData.append(\"upload_preset\",\"reactFoodApp\");formData.append(\"cloud_name\",\"dzged7hmp\");try{const response=await fetch(\"https://api.cloudinary.com/v1_1/dzged7hmp/image/upload\",{method:\"POST\",body:formData});const data=await response.json();const imageUrl=data.url;const updatedItems=[...ItemCards];updatedItems[itemIndex].imageId=imageUrl;setItemCards(updatedItems);}catch(error){console.log(\"Error uploading image:\",error);}}};const handleEditCardContent=(card,itemIndex)=>{if(_.isEqual(originalItems,ItemCards)){navigate(\"/Admincardscontent\",{state:{...card,itemIndex,categoryIndex:index// Pass the category index as well\n}});}else{setSavedBeforeEditCard(true);}};const handleAddCard=()=>{const newCard={title:\"\",imageId:\"\",type:\"\",mealDetail:\"\",ingredients:\"\",youtubeUrl:\"\"};setItemCards([...ItemCards,newCard]);};const handleReset=()=>{setItemCards(_.cloneDeep(originalItems));};const handleDelete=itemIndex=>{const updatedItems=ItemCards.filter((_,i)=>i!==itemIndex);setItemCards(updatedItems);};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-72\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-12 sm:mx-20 flex md:justify-between justify-center flex-wrap items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold md:ml-20 ml-10\",children:\"Category Items Edit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddCard,className:\"bg-green-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-600 transition duration-300 transform hover:scale-105\",children:\"Add Card\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 transition duration-300 transform hover:scale-105\",onClick:handleSaveChange,children:\"Save Change\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-orange-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-orange-600 transition duration-300 transform hover:scale-105\",onClick:handleReset,children:\"Reset\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hide-scrollbar border-2 rounded-xl mt-4 sm:mx-20 p-4 bg-gray-50 shadow-lg overflow-x-auto md:overflow-x-hidden md:overflow-y-hidden flex flex-wrap items-center justify-center md:justify-start gap-4\",children:ItemCards.map((card,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"gradient-border transform transition duration-500 hover:scale-105 hover:shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-yellow-400 text-black px-2 py-1 rounded-lg shadow-md hover:bg-yellow-500 transition duration-300 text-xs sm:text-sm\",onClick:()=>handleEditCardContent(card,index),children:\"Edit Card content\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-2 py-1 rounded-lg shadow-md hover:bg-red-600 transition duration-300 text-xs sm:text-sm\",onClick:()=>handleDelete(index),children:\"Delete\"})]}),/*#__PURE__*/_jsxs(\"a\",{href:\"#\".concat(card.title),className:\"flex flex-col items-center transform transition duration-500 hover:scale-105 hover:shadow-xl\",children:[/*#__PURE__*/_jsx(\"img\",{src:card.imageId,alt:card.name,className:\"rounded-xl w-16 h-16 sm:w-20 sm:h-20 object-cover mt-2 max-w-full\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium mt-2\",children:card.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-700 mt-1\",children:card.type})]}),/*#__PURE__*/_jsx(\"form\",{className:\"mt-2 sm:mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs sm:text-sm font-medium\",children:\"Upload IMG\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",className:\"mt-1 p-1 border border-gray-300 rounded-md text-xs sm:text-sm text-gray-600 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\",onChange:e=>handleImageChange(e,index)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs sm:text-sm font-medium\",children:\"Change Card\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"mt-1 p-1 border rounded-lg text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",value:card.title,onChange:e=>{const updatedCards=[...ItemCards];updatedCards[index].title=e.target.value;setItemCards(updatedCards);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs sm:text-sm font-medium\",children:\"Change Type\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"mt-1 p-1 border rounded-lg text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",value:card.type,onChange:e=>{const updatedCards=[...ItemCards];updatedCards[index].type=e.target.value;setItemCards(updatedCards);}})]})]})})]})},index))}),showSaveChangeCard&&/*#__PURE__*/_jsx(SaveChangeCard,{onClose:()=>setShowSaveChangeCard(false)}),showFailedSaveCard&&/*#__PURE__*/_jsx(FailedSaveCard,{onClose:()=>setShowFailedSaveCard(false)}),savedBeforeEditCard&&/*#__PURE__*/_jsx(SavedBeforeEditCard,{onClose:()=>{setSavedBeforeEditCard(false);},onSave:()=>{handleSaveChange();setShowSaveChangeCard();}})]});};","map":{"version":3,"names":["React","useState","useEffect","useContext","useLocation","useNavigate","Admincontext","axios","_","SaveChangeCard","FailedSaveCard","SavedBeforeEditCard","jsx","_jsx","jsxs","_jsxs","Admincardsedit","location","navigate","index","state","cards","setCards","ItemCards","setItemCards","originalItems","setOriginalItems","showSaveChangeCard","setShowSaveChangeCard","showFailedSaveCard","setShowFailedSaveCard","savedBeforeEditCard","setSavedBeforeEditCard","fetchData","response","fetch","data","json","filteredData","filterIdFromData","transformedData","Object","keys","map","key","name","imageId","items","cloneDeep","error","console","log","forEach","Array","isArray","item","handleSaveChange","updatedCards","itemobj","x","newItem","cardId","length","title","type","mealDetail","ingredients","youtubeUrl","push","post","then","catch","handleImageChange","e","itemIndex","file","target","files","formData","FormData","append","method","body","imageUrl","url","updatedItems","handleEditCardContent","card","isEqual","categoryIndex","handleAddCard","newCard","handleReset","handleDelete","filter","i","className","children","onClick","href","concat","src","alt","accept","onChange","value","onClose","onSave"],"sources":["C:/Users/vedantpc/Desktop/reactfoodapplive/FoodBloggingAppFrontEnd/src/MyComponents/Admin/Admincardsedit.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport Admincontext from \"./Admincontext\";\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\nimport { SaveChangeCard } from \"./SaveChangeCard\";\r\nimport { FailedSaveCard } from \"./FailedSaveCard\";\r\nimport { SavedBeforeEditCard } from \"./SavedBeforeEditCard \";\r\n\r\nexport const Admincardsedit = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { index } = location.state || { index: null };\r\n  const { cards, setCards } = useContext(Admincontext);\r\n  const [ItemCards, setItemCards] = useState([]);\r\n  const [originalItems, setOriginalItems] = useState([]);\r\n  const [showSaveChangeCard, setShowSaveChangeCard] = useState(false);\r\n  const [showFailedSaveCard, setShowFailedSaveCard] = useState(false);\r\n  const [savedBeforeEditCard, setSavedBeforeEditCard  ] = useState(false);\r\n  \r\n\r\n  useEffect(() => {\r\n    if (index !== null) {\r\n      fetchData();\r\n    }\r\n  }, [index]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await fetch(\"https://foodbloggingappbackend.onrender.com/get-json\");\r\n      const data = await response.json();\r\n      const filteredData = filterIdFromData(data);\r\n      const transformedData = Object.keys(filteredData).map((key) => ({\r\n        name: key,\r\n        imageId: filteredData[key].imageId,\r\n        items: filteredData[key].items,\r\n      }));\r\n      setCards(transformedData);\r\n      setOriginalItems(_.cloneDeep(transformedData[index].items));\r\n      setItemCards(transformedData[index].items);\r\n    } catch (error) {\r\n      console.log(\"Error fetching the data\", error);\r\n    }\r\n  };\r\n\r\n  const filterIdFromData = (data) => {\r\n    const filteredData = {};\r\n    Object.keys(data).forEach((key) => {\r\n      if (key !== \"_id\" && key !== \"__v\") {\r\n        if (Array.isArray(data[key])) {\r\n          filteredData[key] = data[key].map((item) => filterIdFromData(item));\r\n        } else if (typeof data[key] === \"object\") {\r\n          filteredData[key] = filterIdFromData(data[key]);\r\n        } else {\r\n          filteredData[key] = data[key];\r\n        }\r\n      }\r\n    });\r\n    return filteredData;\r\n  };\r\n\r\n  const handleSaveChange = () => {\r\n    const updatedCards = [...cards];\r\n    \r\n    \r\n  \r\n    // Ensure items is initialized as an array if it is not already\r\n    if (!Array.isArray(updatedCards[index].items)) {\r\n      updatedCards[index].items = [];\r\n    }\r\n    \r\n    // Clear the existing items to replace with the updated ItemCards\r\n    updatedCards[index].items = [];\r\n  \r\n    ItemCards.forEach((itemobj, x) => {\r\n      const newItem = {\r\n        cardId: updatedCards[index].items.length + 1,\r\n        title: itemobj.title,\r\n        imageId: itemobj.imageId,\r\n        type: itemobj.type,\r\n        mealDetail: '',\r\n        ingredients: '',\r\n        youtubeUrl: ''\r\n      };\r\n  \r\n      updatedCards[index].items.push(newItem);\r\n    });\r\n  \r\n    setCards(updatedCards);\r\n  \r\n  \r\n    axios\r\n      .post(\"https://foodbloggingappbackend.onrender.com/update-json\", updatedCards) // Send updatedCards instead of cards\r\n      .then((response) => {\r\n    \r\n        setOriginalItems(_.cloneDeep(ItemCards));\r\n        setShowSaveChangeCard(true);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error sending data:\", error);\r\n        setShowFailedSaveCard(true);\r\n      });\r\n  };\r\n  \r\n  \r\n  \r\n\r\n  const handleImageChange = async (e, itemIndex) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      formData.append(\"upload_preset\", \"reactFoodApp\");\r\n      formData.append(\"cloud_name\", \"dzged7hmp\");\r\n  \r\n      try {\r\n        const response = await fetch(\"https://api.cloudinary.com/v1_1/dzged7hmp/image/upload\", {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n        const data = await response.json();\r\n        const imageUrl = data.url;\r\n  \r\n        const updatedItems = [...ItemCards];\r\n        updatedItems[itemIndex].imageId = imageUrl;\r\n        setItemCards(updatedItems);\r\n      } catch (error) {\r\n        console.log(\"Error uploading image:\", error);\r\n      }\r\n    }\r\n  };\r\n  \r\n\r\n\r\n\r\n\r\n  const handleEditCardContent = (card, itemIndex) => {\r\n    if (_.isEqual(originalItems, ItemCards)) {\r\n      navigate(\"/Admincardscontent\", {\r\n        state: {\r\n          ...card,\r\n          itemIndex,\r\n          categoryIndex: index, // Pass the category index as well\r\n        },\r\n      });\r\n    } else {\r\n     \r\n      setSavedBeforeEditCard(true);\r\n    }\r\n    \r\n  };\r\n\r\n  const handleAddCard = () => {\r\n    const newCard = {\r\n      title: \"\",\r\n      imageId: \"\",\r\n      type: \"\",\r\n      mealDetail: \"\",\r\n      ingredients: \"\",\r\n      youtubeUrl: \"\",\r\n    };\r\n    setItemCards([...ItemCards, newCard]);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setItemCards(_.cloneDeep(originalItems));\r\n  };\r\n\r\n  const handleDelete = (itemIndex) => {\r\n    const updatedItems = ItemCards.filter((_, i) => i !== itemIndex);\r\n    setItemCards(updatedItems);\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-72\">\r\n      <div className=\"h-12 sm:mx-20 flex md:justify-between justify-center flex-wrap items-center\">\r\n        <p className=\"text-3xl font-bold md:ml-20 ml-10\">Category Items Edit</p>\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={handleAddCard}\r\n            className=\"bg-green-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-600 transition duration-300 transform hover:scale-105\"\r\n          >\r\n            Add Card\r\n          </button>\r\n          <button\r\n            className=\"bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 transition duration-300 transform hover:scale-105\"\r\n            onClick={handleSaveChange}\r\n          >\r\n            Save Change\r\n          </button>\r\n          <button\r\n            className=\"bg-orange-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-orange-600 transition duration-300 transform hover:scale-105\"\r\n            onClick={handleReset}\r\n          >\r\n            Reset\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"hide-scrollbar border-2 rounded-xl mt-4 sm:mx-20 p-4 bg-gray-50 shadow-lg overflow-x-auto md:overflow-x-hidden md:overflow-y-hidden flex flex-wrap items-center justify-center md:justify-start gap-4\">\r\n        {ItemCards.map((card, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"gradient-border transform transition duration-500 hover:scale-105 hover:shadow-xl\"\r\n          >\r\n            <div className=\"content\">\r\n              <div className=\"flex justify-between mb-2\">\r\n                <button\r\n                  className=\"bg-yellow-400 text-black px-2 py-1 rounded-lg shadow-md hover:bg-yellow-500 transition duration-300 text-xs sm:text-sm\"\r\n                  onClick={() => handleEditCardContent(card, index)}\r\n                >\r\n                  Edit Card content\r\n                </button>\r\n                <button\r\n                  className=\"bg-red-500 text-white px-2 py-1 rounded-lg shadow-md hover:bg-red-600 transition duration-300 text-xs sm:text-sm\"\r\n                  onClick={() => handleDelete(index)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n              <a\r\n                href={`#${card.title}`}\r\n                className=\"flex flex-col items-center transform transition duration-500 hover:scale-105 hover:shadow-xl\"\r\n              >\r\n                <img\r\n                  src={card.imageId}\r\n                  alt={card.name}\r\n                  className=\"rounded-xl w-16 h-16 sm:w-20 sm:h-20 object-cover mt-2 max-w-full\"\r\n                />\r\n                <p className=\"text-xs sm:text-sm font-medium mt-2\">\r\n                  {card.title}\r\n                </p>\r\n                <p className=\"text-xs text-gray-700 mt-1\">{card.type}</p>\r\n              </a>\r\n              <form className=\"mt-2 sm:mt-4\">\r\n                <div className=\"flex flex-col space-y-2\">\r\n                  <div className=\"flex flex-col\">\r\n                    <label className=\"text-xs sm:text-sm font-medium\">\r\n                      Upload IMG\r\n                    </label>\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      className=\"mt-1 p-1 border border-gray-300 rounded-md text-xs sm:text-sm text-gray-600 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\r\n                      onChange={(e) => handleImageChange(e, index)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex flex-col mt-2\">\r\n                    <label className=\"text-xs sm:text-sm font-medium\">\r\n                      Change Card\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"mt-1 p-1 border rounded-lg text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      value={card.title}\r\n                      onChange={(e) => {\r\n                        const updatedCards = [...ItemCards];\r\n                        updatedCards[index].title = e.target.value;\r\n                        setItemCards(updatedCards);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex flex-col mt-2\">\r\n                    <label className=\"text-xs sm:text-sm font-medium\">\r\n                      Change Type\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"mt-1 p-1 border rounded-lg text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      value={card.type}\r\n                      onChange={(e) => {\r\n                        const updatedCards = [...ItemCards];\r\n                        updatedCards[index].type = e.target.value;\r\n                        setItemCards(updatedCards);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {showSaveChangeCard && (\r\n        <SaveChangeCard onClose={() => setShowSaveChangeCard(false)} />\r\n      )}\r\n      {\r\n        showFailedSaveCard && (\r\n          <FailedSaveCard onClose ={() => setShowFailedSaveCard(false)} />\r\n        )\r\n      }\r\n      {\r\n        savedBeforeEditCard && (<SavedBeforeEditCard onClose ={()=>{\r\n           setSavedBeforeEditCard(false)}} onSave ={()=>{handleSaveChange(); setShowSaveChangeCard() }} />)\r\n      }\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}