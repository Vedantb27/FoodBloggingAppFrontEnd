{"ast":null,"code":"import\"./App.css\";import{Navbar}from\"./MyComponents/Nabar/Navbar\";import{Categorymain}from\"./MyComponents/Category/Categorymain\";import{Corouselnew}from\"./MyComponents/Corousel/Corouselnew\";import{useState,useEffect}from\"react\";import{Loginform}from\"./MyComponents/Nabar/Loginform\";import{NoResultsFound}from\"./MyComponents/Category/NoResultsFound\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[categoryData,setCategoryData]=useState({});const[showLoginForm,setShowLoginForm]=useState(false);const[searchQuery,setSearchQuery]=useState(\"\");const[isEmpty,setIsEmpty]=useState(false);const[originalcategoryData,setOriginalcategoryData]=useState();useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(\"https://foodbloggingappbackend.onrender.com/get-json\");const data=await response.json();console.log(data);const filteredData=filterIdFromData(data);setCategoryData(filteredData);}catch(error){console.log(\"error fetching the data\",error);}};fetchData();},[]);const filterIdFromData=data=>{const filteredData={};Object.keys(data).forEach(key=>{if(key!==\"_id\"&&key!==\"__v\"){if(Array.isArray(data[key])){filteredData[key]=data[key].map(item=>filterIdFromData(item));}else if(typeof data[key]===\"object\"){filteredData[key]=filterIdFromData(data[key]);}else{filteredData[key]=data[key];}}});return filteredData;};const filterData=(data,query)=>{if(!query)return data;const filteredData={};Object.keys(data).forEach(categoryName=>{const filteredItems=data[categoryName].items.filter(item=>item.title.toLowerCase().includes(query.toLowerCase()));if(filteredItems.length>0){filteredData[categoryName]={...data[categoryName],items:filteredItems};}});return filteredData;};const filteredCategoryData=filterData(categoryData,searchQuery);useEffect(()=>{setIsEmpty(Object.keys(filteredCategoryData).length===0);},[filteredCategoryData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{setShowLoginForm:setShowLoginForm,searchQuery:searchQuery,setSearchQuery:setSearchQuery}),showLoginForm&&/*#__PURE__*/_jsx(Loginform,{onClose:()=>setShowLoginForm(false)}),!searchQuery&&/*#__PURE__*/_jsx(Corouselnew,{categoryData:categoryData}),isEmpty&&searchQuery?/*#__PURE__*/_jsx(NoResultsFound,{}):/*#__PURE__*/_jsx(Categorymain,{categoryData:filteredCategoryData})]});}export default App;","map":{"version":3,"names":["Navbar","Categorymain","Corouselnew","useState","useEffect","Loginform","NoResultsFound","jsx","_jsx","jsxs","_jsxs","App","categoryData","setCategoryData","showLoginForm","setShowLoginForm","searchQuery","setSearchQuery","isEmpty","setIsEmpty","originalcategoryData","setOriginalcategoryData","fetchData","response","fetch","data","json","console","log","filteredData","filterIdFromData","error","Object","keys","forEach","key","Array","isArray","map","item","filterData","query","categoryName","filteredItems","items","filter","title","toLowerCase","includes","length","filteredCategoryData","className","children","onClose"],"sources":["C:/Users/vedantpc/Desktop/FoodBloggingAppFrontEnd/src/App.js"],"sourcesContent":["import \"./App.css\";\r\nimport { Navbar } from \"./MyComponents/Nabar/Navbar\";\r\nimport { Categorymain } from \"./MyComponents/Category/Categorymain\";\r\nimport { Corouselnew } from \"./MyComponents/Corousel/Corouselnew\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Loginform } from \"./MyComponents/Nabar/Loginform\";\r\nimport { NoResultsFound } from \"./MyComponents/Category/NoResultsFound\";\r\n\r\nfunction App() {\r\n  const [categoryData, setCategoryData] = useState({});\r\n  const [showLoginForm, setShowLoginForm] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isEmpty, setIsEmpty] = useState(false);\r\n  const [originalcategoryData,setOriginalcategoryData] = useState();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        \r\n        const response = await fetch(\"https://foodbloggingappbackend.onrender.com/get-json\");\r\n        const data = await response.json();\r\n        console.log(data);\r\n         \r\n        const filteredData = filterIdFromData(data);\r\n        setCategoryData(filteredData);\r\n      } catch (error) {\r\n        console.log(\"error fetching the data\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const filterIdFromData = (data) => {\r\n    const filteredData = {};\r\n    Object.keys(data).forEach((key) => {\r\n      if (key !== \"_id\" && key !== \"__v\") {\r\n        if (Array.isArray(data[key])) {\r\n          filteredData[key] = data[key].map((item) => filterIdFromData(item));\r\n        } else if (typeof data[key] === \"object\") {\r\n          filteredData[key] = filterIdFromData(data[key]);\r\n        } else {\r\n          filteredData[key] = data[key];\r\n        }\r\n      }\r\n    });\r\n    return filteredData;\r\n  };\r\n\r\n  const filterData = (data, query) => {\r\n    if (!query) return data;\r\n\r\n    const filteredData = {};\r\n    Object.keys(data).forEach((categoryName) => {\r\n      const filteredItems = data[categoryName].items.filter((item) =>\r\n        item.title.toLowerCase().includes(query.toLowerCase())\r\n      );\r\n      if (filteredItems.length > 0) {\r\n        filteredData[categoryName] = {\r\n          ...data[categoryName],\r\n          items: filteredItems,\r\n        };\r\n      }\r\n    });\r\n\r\n    return filteredData;\r\n  };\r\n\r\n  const filteredCategoryData = filterData(categoryData, searchQuery);\r\n  useEffect(() => {\r\n    setIsEmpty(Object.keys(filteredCategoryData).length === 0);\r\n  }, [filteredCategoryData]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar\r\n        setShowLoginForm={setShowLoginForm}\r\n        searchQuery={searchQuery}\r\n        setSearchQuery={setSearchQuery}\r\n      />\r\n      {showLoginForm && <Loginform onClose={() => setShowLoginForm(false)} />}\r\n      {!searchQuery && <Corouselnew categoryData={categoryData} />}\r\n      {isEmpty && searchQuery ? (\r\n       <NoResultsFound/>\r\n      ) : (\r\n        <Categorymain categoryData={filteredCategoryData} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,WAAW,CAClB,OAASA,MAAM,KAAQ,6BAA6B,CACpD,OAASC,YAAY,KAAQ,sCAAsC,CACnE,OAASC,WAAW,KAAQ,qCAAqC,CACjE,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,SAAS,KAAQ,gCAAgC,CAC1D,OAASC,cAAc,KAAQ,wCAAwC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExE,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpD,KAAM,CAACW,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACiB,oBAAoB,CAACC,uBAAuB,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAEjEC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAEF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,sDAAsD,CAAC,CACpF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CAEjB,KAAM,CAAAI,YAAY,CAAGC,gBAAgB,CAACL,IAAI,CAAC,CAC3CZ,eAAe,CAACgB,YAAY,CAAC,CAC/B,CAAE,MAAOE,KAAK,CAAE,CACdJ,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEG,KAAK,CAAC,CAC/C,CACF,CAAC,CACDT,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAQ,gBAAgB,CAAIL,IAAI,EAAK,CACjC,KAAM,CAAAI,YAAY,CAAG,CAAC,CAAC,CACvBG,MAAM,CAACC,IAAI,CAACR,IAAI,CAAC,CAACS,OAAO,CAAEC,GAAG,EAAK,CACjC,GAAIA,GAAG,GAAK,KAAK,EAAIA,GAAG,GAAK,KAAK,CAAE,CAClC,GAAIC,KAAK,CAACC,OAAO,CAACZ,IAAI,CAACU,GAAG,CAAC,CAAC,CAAE,CAC5BN,YAAY,CAACM,GAAG,CAAC,CAAGV,IAAI,CAACU,GAAG,CAAC,CAACG,GAAG,CAAEC,IAAI,EAAKT,gBAAgB,CAACS,IAAI,CAAC,CAAC,CACrE,CAAC,IAAM,IAAI,MAAO,CAAAd,IAAI,CAACU,GAAG,CAAC,GAAK,QAAQ,CAAE,CACxCN,YAAY,CAACM,GAAG,CAAC,CAAGL,gBAAgB,CAACL,IAAI,CAACU,GAAG,CAAC,CAAC,CACjD,CAAC,IAAM,CACLN,YAAY,CAACM,GAAG,CAAC,CAAGV,IAAI,CAACU,GAAG,CAAC,CAC/B,CACF,CACF,CAAC,CAAC,CACF,MAAO,CAAAN,YAAY,CACrB,CAAC,CAED,KAAM,CAAAW,UAAU,CAAGA,CAACf,IAAI,CAAEgB,KAAK,GAAK,CAClC,GAAI,CAACA,KAAK,CAAE,MAAO,CAAAhB,IAAI,CAEvB,KAAM,CAAAI,YAAY,CAAG,CAAC,CAAC,CACvBG,MAAM,CAACC,IAAI,CAACR,IAAI,CAAC,CAACS,OAAO,CAAEQ,YAAY,EAAK,CAC1C,KAAM,CAAAC,aAAa,CAAGlB,IAAI,CAACiB,YAAY,CAAC,CAACE,KAAK,CAACC,MAAM,CAAEN,IAAI,EACzDA,IAAI,CAACO,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACP,KAAK,CAACM,WAAW,CAAC,CAAC,CACvD,CAAC,CACD,GAAIJ,aAAa,CAACM,MAAM,CAAG,CAAC,CAAE,CAC5BpB,YAAY,CAACa,YAAY,CAAC,CAAG,CAC3B,GAAGjB,IAAI,CAACiB,YAAY,CAAC,CACrBE,KAAK,CAAED,aACT,CAAC,CACH,CACF,CAAC,CAAC,CAEF,MAAO,CAAAd,YAAY,CACrB,CAAC,CAED,KAAM,CAAAqB,oBAAoB,CAAGV,UAAU,CAAC5B,YAAY,CAAEI,WAAW,CAAC,CAClEZ,SAAS,CAAC,IAAM,CACde,UAAU,CAACa,MAAM,CAACC,IAAI,CAACiB,oBAAoB,CAAC,CAACD,MAAM,GAAK,CAAC,CAAC,CAC5D,CAAC,CAAE,CAACC,oBAAoB,CAAC,CAAC,CAE1B,mBACExC,KAAA,QAAKyC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB5C,IAAA,CAACR,MAAM,EACLe,gBAAgB,CAAEA,gBAAiB,CACnCC,WAAW,CAAEA,WAAY,CACzBC,cAAc,CAAEA,cAAe,CAChC,CAAC,CACDH,aAAa,eAAIN,IAAA,CAACH,SAAS,EAACgD,OAAO,CAAEA,CAAA,GAAMtC,gBAAgB,CAAC,KAAK,CAAE,CAAE,CAAC,CACtE,CAACC,WAAW,eAAIR,IAAA,CAACN,WAAW,EAACU,YAAY,CAAEA,YAAa,CAAE,CAAC,CAC3DM,OAAO,EAAIF,WAAW,cACtBR,IAAA,CAACF,cAAc,GAAC,CAAC,cAEhBE,IAAA,CAACP,YAAY,EAACW,YAAY,CAAEsC,oBAAqB,CAAE,CACpD,EACE,CAAC,CAEV,CAEA,cAAe,CAAAvC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}